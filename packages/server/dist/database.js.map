{"version":3,"sources":["../src/database.ts"],"names":["dotenv","config","connectDB","Promise","resolve","reject","mongoose","global","connection","on","error","console","log","once","connections","connect","process","env","DB_URI","useNewUrlParser","useCreateIndex","useUnifiedTopology"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACtB,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,sBAASH,OAAT,GAAmBI,MAAM,CAACJ,OAA1B;;AACAG,sBAASE,UAAT,CACGC,EADH,CACM,OADN,EACgBC,KAAD,IAAWL,MAAM,CAACK,KAAD,CADhC,EAEGD,EAFH,CAEM,OAFN,EAEe,MAAME,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAFrB,EAGGC,IAHH,CAGQ,MAHR,EAGgB,MAAMT,OAAO,CAACE,kBAASQ,WAAT,CAAqB,CAArB,CAAD,CAH7B;;AAKAR,sBAASS,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,MAA7B,EAAqC;AACnCC,MAAAA,eAAe,EAAE,IADkB;AAEnCC,MAAAA,cAAc,EAAE,IAFmB;AAGnCC,MAAAA,kBAAkB,EAAE;AAHe,KAArC;AAKD,GAZM,CAAP;AAaD,CAdD;;eAgBenB,S","sourcesContent":["import mongoose from \"mongoose\";\nimport dotenv from \"dotenv\";\n\ndotenv.config();\n\nconst connectDB = () => {\n  return new Promise((resolve, reject) => {\n    mongoose.Promise = global.Promise;\n    mongoose.connection\n      .on(\"error\", (error) => reject(error))\n      .on(\"close\", () => console.log(\"Database connection closed.\"))\n      .once(\"open\", () => resolve(mongoose.connections[0]));\n\n    mongoose.connect(process.env.DB_URI, {\n      useNewUrlParser: true,\n      useCreateIndex: true,\n      useUnifiedTopology: true,\n    });\n  });\n};\n\nexport default connectDB;\n"],"file":"database.js"}