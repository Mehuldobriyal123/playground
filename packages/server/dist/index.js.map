{"version":3,"sources":["../src/index.ts"],"names":["dotenv","config","app","Koa","router","Router","graphqlServer","graphql","all","endpoint","listen","process","env","PORT","use","contentSecurityPolicy","NODE_ENV","undefined","routes","allowedMethods"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,GAAG,GAAG,IAAIC,YAAJ,EAAZ;AACA,MAAMC,MAAM,GAAG,IAAIC,eAAJ,EAAf;AAEA,MAAMC,aAAa,GAAG,yBAAYC,gBAAZ,CAAtB;AAEAH,MAAM,CAACI,GAAP,CAAW,UAAX,EAAuB,6BAAvB,EAAqCF,aAArC;AACAF,MAAM,CAACI,GAAP,CACE,WADF,EAEE,6CAAc;AACZC,EAAAA,QAAQ,EAAE;AADE,CAAd,CAFF;AAOAP,GAAG,CAACQ,MAAJ,CAAWC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B;AACAX,GAAG,CAACY,GAAJ,CAAQ,yBAAR;AACAZ,GAAG,CAACY,GAAJ,CAAQ,oBAAR;AACAZ,GAAG,CAACY,GAAJ,CACE,wBAAO;AACLC,EAAAA,qBAAqB,EACnBJ,OAAO,CAACC,GAAR,CAAYI,QAAZ,KAAyB,YAAzB,GAAwCC,SAAxC,GAAoD;AAFjD,CAAP,CADF;AAMAf,GAAG,CAACY,GAAJ,CAAQV,MAAM,CAACc,MAAP,EAAR,EAAyBJ,GAAzB,CAA6BV,MAAM,CAACe,cAAP,EAA7B;AAEA","sourcesContent":["import dotenv from \"dotenv\";\nimport Koa from \"koa\";\nimport cors from \"@koa/cors\";\nimport Router from \"@koa/router\";\nimport bodyParser from \"koa-bodyparser\";\nimport logger from \"koa-logger\";\nimport helmet from \"koa-helmet\";\nimport graphqlHttp from \"koa-graphql\";\nimport koaPlayground from \"graphql-playground-middleware-koa\";\n\nimport connectDB from \"./database\";\n\nimport graphql from \"./graphql\";\n\ndotenv.config();\n\nconst app = new Koa();\nconst router = new Router();\n\nconst graphqlServer = graphqlHttp(graphql);\n\nrouter.all(\"/graphql\", bodyParser(), graphqlServer);\nrouter.all(\n  \"/graphiql\",\n  koaPlayground({\n    endpoint: \"/graphql\",\n  }),\n);\n\napp.listen(process.env.PORT || 4000);\napp.use(logger());\napp.use(cors());\napp.use(\n  helmet({\n    contentSecurityPolicy:\n      process.env.NODE_ENV === \"production\" ? undefined : false,\n  }),\n);\napp.use(router.routes()).use(router.allowedMethods());\n\nconnectDB();\n"],"file":"index.js"}